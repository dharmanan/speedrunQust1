(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{1296:(e,t,n)=>{Promise.resolve().then(n.bind(n,7809))},7790:()=>{},7809:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(5155),o=n(2115),r=n(6726),s=n(1444),a=n(5239);function d(e){let{tokenId:t,tokenURI:n}=e,o=n?n.startsWith("ipfs://")?n.replace("ipfs://","https://ipfs.io/ipfs/"):n.startsWith("Qm")&&n.length>40?"https://ipfs.io/ipfs/".concat(n):n:"";return(0,i.jsxs)("div",{style:{background:"var(--card-bg, #fafafa)",border:"1px solid #eee",borderRadius:12,padding:16,margin:8,width:220,textAlign:"center"},children:[(0,i.jsx)("div",{style:{width:180,height:180,margin:"0 auto",background:"#f0f0f0",borderRadius:8,overflow:"hidden"},children:o?(0,i.jsx)(a.default,{src:o,alt:t,width:180,height:180,style:{objectFit:"cover"}}):(0,i.jsx)("div",{style:{width:180,height:180,lineHeight:"180px",color:"#bbb"},children:"No Image"})}),(0,i.jsxs)("div",{style:{marginTop:8,fontWeight:600},children:["Token #",t]}),(0,i.jsx)("div",{style:{fontSize:12,color:"#888",wordBreak:"break-all"},children:n})]})}function l(){let[e,t]=o.useState(!1),[n,a]=o.useState(""),[l,c]=o.useState(""),[h,u]=o.useState([]),[f,g]=o.useState(!1),[w,m]=o.useState("QmYwAPJzv5CZsnAzt8auVTL7D1R6ZaaEXSXy4CkqB5tFh7"),x="0xE547D16b26A71034aC902c86f3757Ab3d92AB727",p=["function mintItem(address to, string memory tokenURI) public returns (uint256)","function balanceOf(address owner) view returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) view returns (uint256)","function tokenURI(uint256 tokenId) view returns (string)"],y=async()=>{g(!0),c("");try{if(!window.ethereum)throw Error("MetaMask required!");await window.ethereum.request({method:"eth_requestAccounts"});let e=new r.j(window.ethereum),t=e.getSigner(),n=await t.getAddress();console.log("User address:",n);let i=new s.NZ(x,p,e),o=await i.balanceOf(n);console.log("Balance:",o.toString());let a=[];for(let e=0;e<o.toNumber();e++){let t=await i.tokenOfOwnerByIndex(n,e);console.log("Token ID:",t.toString());let o="";try{o=await i.tokenURI(t),console.log("Token URI:",o)}catch(e){console.log("Token URI error:",e),o=""}a.push({tokenId:t.toString(),tokenURI:o})}console.log("NFTs fetched:",a),u(a)}catch(e){console.log("Fetch error:",e),c(e.message||"Failed to fetch NFTs")}g(!1)},k=async()=>{t(!0),c(""),a("");try{if(!window.ethereum)throw Error("MetaMask required!");await window.ethereum.request({method:"eth_requestAccounts"});let e=new r.j(window.ethereum).getSigner(),t=await e.getAddress(),n=new s.NZ(x,p,e),i=await n.mintItem(t,w);a(i.hash),await i.wait(),await y()}catch(e){c(e.message||"Mint operation failed")}t(!1)};return o.useEffect(()=>{y()},[]),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:48,maxWidth:1200,margin:"0 auto",padding:32},children:[(0,i.jsxs)("div",{style:{flex:1,minWidth:280},children:[(0,i.jsx)("h2",{style:{fontSize:36,fontWeight:700,marginBottom:32,textAlign:"left"},children:"My NFTs"}),(0,i.jsxs)("div",{style:{marginBottom:24},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"IPFS Hash (Metadata URI):"}),(0,i.jsx)("input",{type:"text",value:w,onChange:e=>m(e.target.value),placeholder:"Enter IPFS hash (e.g., QmYwAPJzv5CZsnAzt8auVTL7D1R6ZaaEXSXy4CkqB5tFh7)",style:{width:"100%",padding:"12px",fontSize:16,borderRadius:8,border:"1px solid #ccc",marginBottom:16,fontFamily:"monospace"}})]}),(0,i.jsx)("button",{onClick:k,disabled:e,style:{padding:"20px 48px",fontSize:22,borderRadius:12,background:"#0879ff",color:"#fff",border:"none",marginBottom:32,fontWeight:600,boxShadow:"0 2px 8px #0001"},children:e?"Minting...":"MINT NFT"}),n&&(0,i.jsxs)("div",{style:{marginBottom:16},children:["Mint transaction sent! Tx: ",(0,i.jsx)("a",{href:"https://sepolia.etherscan.io/tx/".concat(n),target:"_blank",rel:"noopener noreferrer",children:n})]}),l&&(0,i.jsx)("div",{style:{color:"red",marginBottom:16},children:l})]}),(0,i.jsx)("div",{style:{flex:2,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:f?(0,i.jsx)("div",{children:"Loading NFTs..."}):0===h.length?(0,i.jsx)("div",{children:"You don't have any NFTs."}):h.map(e=>(0,i.jsx)(d,{tokenId:e.tokenId,tokenURI:e.tokenURI},e.tokenId))})]})}}},e=>{e.O(0,[726,444,239,441,255,358],()=>e(e.s=1296)),_N_E=e.O()}]);